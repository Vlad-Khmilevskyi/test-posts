{"mappings":"AAAA,IAAMA,QAAU,+DACVC,SAAWC,SAASC,cAAc,cAOxC,SAASC,aACP,OAAOC,MAAML,SACVM,MAAK,SAACC,GACL,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,M,IAItB,SAASC,eAAeC,GACtB,IAAMC,EAASD,EACZE,KAAI,SAACC,GACJ,MAAO,+BAEqBC,OADND,EAAKE,GAAG,wCAEID,OADND,EAAKG,MAAM,gDAEZF,OADOD,EAAKI,YAAY,yCACdH,OAAVD,EAAKK,KAAK,oI,IAKtCC,KAAK,IACRrB,SAASsB,UAAYT,EAGCZ,SAASsB,iBAAiB,eAClCC,SAAQ,SAACC,GACrBA,EAAOC,iBAAiB,SAAS,WAE/BC,WADeF,EAAOG,cAAcC,QAAQC,O,OAMlD,SAASH,WAAWG,GAClB1B,MAAM,GAAcY,OAAXjB,QAAQ,KAAUiB,OAAPc,GAAU,CAC5BC,OAAQ,WAET1B,MAAK,SAACC,GACL,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAG3BuB,mBAAmBF,E,IAEpBG,OAAM,SAACC,G,OAAUC,QAAQC,IAAIF,E,IAGhC,SAASF,mBAAmBF,GAC1B,IAAMO,EAAWrC,SAASE,cAAc,oBAA2Bc,OAAPc,EAAO,OAC/DO,GACFA,EAASC,Q,CAxD8DnC,aACxEE,MAAK,SAACO,G,OAAUD,eAAeC,E,IAC/BqB,OAAM,SAACC,G,OAAUC,QAAQC,IAAIF,E","sources":["src/index.js"],"sourcesContent":["const API_URL = 'https://rest-api-production-fc73.up.railway.app/api/v1/posts';\nconst userList = document.querySelector(\".user-list\");\n\n// Отримуємо список постів з сервера та відображаємо їх у списку при завантаженні сторінки\nfetchUsers()\n  .then((posts) => renderUserList(posts))\n  .catch((error) => console.log(error));\n\nfunction fetchUsers() {\n  return fetch(API_URL)\n    .then((response) => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    });\n}\n\nfunction renderUserList(posts) {\n  const markup = posts\n    .map((post) => {\n      return `\n        <li data-post-id=\"${post.id}\">\n          <p class=\"post-title\">${post.title}</p>\n          <p class=\"post-description\">${post.description}</p>\n          <p class=\"post-text\">${post.text}</p>\n          <button type=\"button\" class=\"btn remove-btn\"><span class=\"btn_text\">Remove</span></button>\n        </li>\n      `;\n    })\n    .join(\"\");\n  userList.innerHTML = markup;\n\n  // Додаємо обробник події для кнопки \"Remove\"\n  const removeButtons = document.querySelectorAll(\".remove-btn\");\n  removeButtons.forEach((button) => {\n    button.addEventListener(\"click\", () => {\n      const postId = button.parentElement.dataset.postId;\n      removePost(postId);\n    });\n  });\n}\n\nfunction removePost(postId) {\n  fetch(`${API_URL}/${postId}`, {\n    method: 'DELETE'\n  })\n  .then((response) => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    // Видаляємо пост зі списку без перезавантаження сторінки\n    removePostFromList(postId);\n  })\n  .catch((error) => console.log(error));\n}\n\nfunction removePostFromList(postId) {\n  const postItem = userList.querySelector(`li[data-post-id=\"${postId}\"]`);\n  if (postItem) {\n    postItem.remove();\n  }\n}\n"],"names":["API_URL","userList","document","querySelector","fetchUsers","fetch","then","response","ok","Error","status","json","renderUserList","posts","markup","map","post","concat","id","title","description","text","join","innerHTML","querySelectorAll","forEach","button","addEventListener","removePost","parentElement","dataset","postId","method","removePostFromList","catch","error","console","log","postItem","remove"],"version":3,"file":"index.854ac0f6.js.map"}