{"mappings":"AAAA,IAAMA,KAAO,+DACPC,eAAiBC,SAASC,eAAe,kBA8B/C,SAASC,WAAWC,GAClB,OAAOC,MAAMN,KAAM,CACjBO,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAUN,KAEtBO,MAAK,SAACC,GACL,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,M,IAIpB,SAASC,iBAAiBC,GACxB,IAAMC,EAAWlB,SAASmB,cAAc,MACxCD,EAASE,aAAa,eAAgBH,EAAKI,IAC3CH,EAASI,UAAY,YAEdC,OADAN,EAAKO,MAAM,iBAEXD,OADAN,EAAKQ,YAAY,iBACPF,OAAVN,EAAKS,KAAK,8EAGjBC,SAASC,YAAYV,GAGAA,EAASW,cAAc,eAC/BC,iBAAiB,SAAS,WACrC,IAAMC,EAASb,EAASc,QAAQD,OAChCE,WAAWF,E,IA3DfhC,eAAe+B,iBAAiB,UAAU,SAACI,GACzCA,EAAMC,iBACN,IAAMX,EAAQxB,SAASC,eAAe,SAASmC,MACzCX,EAAczB,SAASC,eAAe,eAAemC,MACrDV,EAAO1B,SAASC,eAAe,QAAQmC,MAGxCZ,GAAUC,GAAgBC,GAW/BxB,WANgB,CACdsB,MAAOA,EACPC,YAAaA,EACbC,KAAMA,IAILhB,MAAK,SAACO,GAE8CD,iBAAlCC,GAE4BlB,eAA9BsC,O,IAEhBC,OAAM,SAACC,G,OAAUC,QAAQC,IAAIF,E","sources":["src/formPost.js"],"sourcesContent":["const POST = 'https://rest-api-production-fc73.up.railway.app/api/v1/posts';\nconst createPostForm = document.getElementById(\"createPostForm\");\n\ncreatePostForm.addEventListener(\"submit\", (event) => {\n  event.preventDefault();\n  const title = document.getElementById(\"title\").value;\n  const description = document.getElementById(\"description\").value;\n  const text = document.getElementById(\"text\").value;\n\n  // Перевірка, чи всі поля форми заповнені\n  if (!title || !description || !text) {\n    // markEmptyFields();\n    return;\n  }\n\n  const newPost = {\n    title: title,\n    description: description,\n    text: text\n  };\n\n  createPost(newPost)\n    .then((post) => {\n      // Додаємо новий пост до списку без перезавантаження сторінки\n      appendPostToList(post);\n      // Очистка полів форми після успішного створення поста\n      createPostForm.reset();\n    })\n    .catch((error) => console.log(error));\n});\n\nfunction createPost(postData) {\n  return fetch(POST, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(postData)\n  })\n  .then((response) => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n\nfunction appendPostToList(post) {\n  const postItem = document.createElement(\"li\");\n  postItem.setAttribute(\"data-post-id\", post.id);\n  postItem.innerHTML = `\n    <p>${post.title}</p>\n    <p>${post.description}</p>\n    <p>${post.text}</p>\n    <button type=\"button\" class=\"btn remove-btn\">Remove</button>\n  `;\n  userList.appendChild(postItem);\n\n  // Додаємо обробник події для кнопки \"Remove\" для нового поста\n  const removeButton = postItem.querySelector(\".remove-btn\");\n  removeButton.addEventListener(\"click\", () => {\n    const postId = postItem.dataset.postId;\n    removePost(postId);\n  });\n}\n\n// function markEmptyFields() {\n//   const titleInput = document.getElementById(\"title\");\n//   const descriptionInput = document.getElementById(\"description\");\n//   const textInput = document.getElementById(\"text\");\n\n//   if (!titleInput.value) {\n//     titleInput.style.borderColor = \"1px solid red\";\n//   } else {\n//     titleInput.style.border = \"1px solid initial\";\n//   }\n\n//   if (!descriptionInput.value) {\n//     descriptionInput.style.borderColor = \"1px solid red\";\n//   } else {\n//     descriptionInput.style.border = \"1px solid initial\";\n//   }\n\n//   if (!textInput.value) {\n//     textInput.style.borderColor = \"1px solid red\";\n//   } else {\n//     textInput.style.border = \"1px solid initial\";\n//   }\n// }"],"names":["POST","createPostForm","document","getElementById","createPost","postData","fetch","method","headers","body","JSON","stringify","then","response","ok","Error","status","json","appendPostToList","post","postItem","createElement","setAttribute","id","innerHTML","concat","title","description","text","userList","appendChild","querySelector","addEventListener","postId","dataset","removePost","event","preventDefault","value","reset","catch","error","console","log"],"version":3,"file":"index.52f46b65.js.map"}